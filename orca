# START GCODE

; default: disable chamber wait for this print
SET_GCODE_VARIABLE MACRO=WAIT_FOR_CHAMBER_TEMPERATURE VARIABLE=target_temperature VALUE=0
SET_GCODE_VARIABLE MACRO=WAIT_FOR_CHAMBER_NOTIFICATION VARIABLE=target_temperature VALUE=0

; enable if Notes contains "heated_chamber" or "heated_chamber=NN"
{if filament_notes[0]=~/(?i)bheated[_ -]?chamber(?:=(d+))?b/}
  {if match1}
    SET_CHAMBER_TEMPERATURE TEMPERATURE={match1}
  {else}
    SET_CHAMBER_TEMPERATURE TEMPERATURE=40
  {endif}
{endif}

SET_PRINT_STATS_INFO TOTAL_LAYER=[total_layer_count]

SKEW_PROFILE LOAD=my_skew_profile

_PRINT_START_PHASE_INIT EXTRUDER={first_layer_temperature[initial_tool]} BED=[first_layer_bed_temperature] MESH_MIN={first_layer_print_min[0]},{first_layer_print_min[1]} MESH_MAX={first_layer_print_max[0]},{first_layer_print_max[1]} LAYERS={total_layer_count} NOZZLE_SIZE={nozzle_diameter[0]} ; Insert custom gcode here. 

_PRINT_START_PHASE_PREHEAT ; Insert custom gcode here. 
_PRINT_START_PHASE_PROBING ; Insert custom gcode here. 
_PRINT_START_PHASE_EXTRUDER ; Insert custom gcode here. 
_PRINT_START_PHASE_PURGE


# END GCODE

PRINT_END
FILTER_FAN_TIMER

# BEFORE LAYER CHANGE GCODE

;BEFORE_LAYER_CHANGE
;[layer_z]

#LAYER CHANGE GCODE

;AFTER_LAYER_CHANGE
;[layer_z]
SET_PRINT_STATS_INFO CURRENT_LAYER={layer_num}
